<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":{"valine":{"order":-1}},"activeClass":"valine"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="tomwuu1">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hexo</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/13/%E8%BD%AF%E8%B7%AF%E7%94%B1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="tomwuu1">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/08/13/%E8%BD%AF%E8%B7%AF%E7%94%B1/" class="post-title-link" itemprop="url">软路由</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2024-08-13 09:53:53 / Modified: 10:47:06" itemprop="dateCreated datePublished" datetime="2024-08-13T09:53:53+08:00">2024-08-13</time>
            </span>

          
            <span id="/2024/08/13/%E8%BD%AF%E8%B7%AF%E7%94%B1/" class="post-meta-item leancloud_visitors" data-flag-title="软路由" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2024/08/13/%E8%BD%AF%E8%B7%AF%E7%94%B1/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2024/08/13/%E8%BD%AF%E8%B7%AF%E7%94%B1/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>测试环境 &#x3D; 应用+数据存储+中间件+负载均衡+测试工具</p>
<h1 id="测试环境难点"><a href="#测试环境难点" class="headerlink" title="测试环境难点"></a>测试环境难点</h1><ol>
<li>系统复制，需要理清服务的依赖关系，部署顺序</li>
<li>申请资源，开通权限繁琐</li>
<li>环境冲突</li>
<li>环境维护（代码更改，数据库，配置）</li>
</ol>
<h1 id="Noah"><a href="#Noah" class="headerlink" title="Noah"></a>Noah</h1><ol>
<li>配置管理：提供环境模版来定义整个环境所需的资源信息，软件信息，数据信息，依赖信息</li>
<li>自动更新：解决环境维护问题</li>
<li>并行测试：用环境模版生成多套相同的环境，实现资源的隔离</li>
<li>一键生成：解决流程繁琐的问题</li>
</ol>
<p>固定环境 -&gt; 云环境模版 -&gt;软路由环境</p>
<p><img src="https://kjgadfk-1311071500.cos.ap-nanjing.myqcloud.com/image-2024-8-9_14-56-8.png" alt="image-2024-8-9_14-56-8"></p>
<p>1、创建业务模版、基准环境、软路由环境<br>2、流量染色（绑定请求与软路由环境）<br>3、请求后的测试与异常排查</p>
<p>概念</p>
<p>应用：Java，node工程</p>
<p>环境变量：将应用的配置文件进行变量化</p>
<h1 id="部署顺序："><a href="#部署顺序：" class="headerlink" title="部署顺序："></a>部署顺序：</h1>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/12/%E6%B2%9F%E9%80%9A/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="tomwuu1">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/08/12/%E6%B2%9F%E9%80%9A/" class="post-title-link" itemprop="url">沟通</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2024-08-12 18:51:28 / Modified: 18:51:49" itemprop="dateCreated datePublished" datetime="2024-08-12T18:51:28+08:00">2024-08-12</time>
            </span>

          
            <span id="/2024/08/12/%E6%B2%9F%E9%80%9A/" class="post-meta-item leancloud_visitors" data-flag-title="沟通" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2024/08/12/%E6%B2%9F%E9%80%9A/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2024/08/12/%E6%B2%9F%E9%80%9A/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li>在和组员沟通的时候发现，在表达自己的想法之前，要先表达对于他人观点的理解。</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/12/%E7%AE%97%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="tomwuu1">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/08/12/%E7%AE%97%E6%B3%95/" class="post-title-link" itemprop="url">算法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2024-08-12 16:52:58 / Modified: 16:59:22" itemprop="dateCreated datePublished" datetime="2024-08-12T16:52:58+08:00">2024-08-12</time>
            </span>

          
            <span id="/2024/08/12/%E7%AE%97%E6%B3%95/" class="post-meta-item leancloud_visitors" data-flag-title="算法" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2024/08/12/%E7%AE%97%E6%B3%95/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2024/08/12/%E7%AE%97%E6%B3%95/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="T-digest"><a href="#T-digest" class="headerlink" title="T-digest"></a>T-digest</h1><p>核心思想：通过质心进行数据的合并</p>
<p>质心：数字，权重。</p>
<p>两个数据：10 20，得出的质心 [15, 2]</p>
<p>逐个累积质心的权重，直到累计权重接近目标权重(根据分位数和总共数据个数计算)</p>
<p>map-reduce操作，可以理解为几组数据分别通过t-digest算法处理，得出来的几组结果可以合并到一起，并集之后就可以得到这几组数据的整体分位数</p>
<p>感兴趣的同学可以看下这个<br>github项目：<a target="_blank" rel="noopener" href="https://github.com/tdunning/t-digest">https://github.com/tdunning/t-digest</a><br>算法的论文：<a target="_blank" rel="noopener" href="https://github.com/tdunning/t-digest/blob/master/docs/t-digest-paper/histo.pdf">https://github.com/tdunning/t-digest/blob/master/docs/t-digest-paper/histo.pdf</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/09/LangChain4j/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="tomwuu1">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/08/09/LangChain4j/" class="post-title-link" itemprop="url">LangChain4j</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2024-08-09 11:19:15 / Modified: 18:11:36" itemprop="dateCreated datePublished" datetime="2024-08-09T11:19:15+08:00">2024-08-09</time>
            </span>

          
            <span id="/2024/08/09/LangChain4j/" class="post-meta-item leancloud_visitors" data-flag-title="LangChain4j" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2024/08/09/LangChain4j/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2024/08/09/LangChain4j/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Memory"><a href="#Memory" class="headerlink" title="Memory"></a>Memory</h1><p>就是把之前的对话附上去，设定一个轮数的上限</p>
<h1 id="RAG"><a href="#RAG" class="headerlink" title="RAG"></a>RAG</h1><h2 id="maven"><a href="#maven" class="headerlink" title="maven"></a>maven</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>dev.langchain4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>langchain4j-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.33.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>dev.langchain4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>langchain4j-open-ai-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.33.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>dev.langchain4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>langchain4j-pgvector<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.33.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.testcontainers<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>postgresql<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.19.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>dev.langchain4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>langchain4j-embeddings-all-minilm-l6-v2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.33.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>dev.langchain4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>langchain4j-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.33.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="pgvector配置类"><a href="#pgvector配置类" class="headerlink" title="pgvector配置类"></a>pgvector配置类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> PostgreSQLContainer&lt;?&gt; postgreSQLContainer() &#123;</span><br><span class="line">    <span class="type">DockerImageName</span> <span class="variable">dockerImageName</span> <span class="operator">=</span> DockerImageName.parse(<span class="string">&quot;pgvector/pgvector:pg16&quot;</span>);</span><br><span class="line">    PostgreSQLContainer&lt;?&gt; postgreSQLContainer = <span class="keyword">new</span> <span class="title class_">PostgreSQLContainer</span>&lt;&gt;(dockerImageName);</span><br><span class="line">    postgreSQLContainer.start();</span><br><span class="line">    <span class="keyword">return</span> postgreSQLContainer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> EmbeddingStore&lt;TextSegment&gt; <span class="title function_">embeddingStore</span><span class="params">(PostgreSQLContainer&lt;?&gt; postgreSQLContainer)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> PgVectorEmbeddingStore.builder()</span><br><span class="line">            .host(postgreSQLContainer.getHost())</span><br><span class="line">            .port(postgreSQLContainer.getFirstMappedPort())</span><br><span class="line">            .database(postgreSQLContainer.getDatabaseName())</span><br><span class="line">            .user(postgreSQLContainer.getUsername())</span><br><span class="line">            .password(postgreSQLContainer.getPassword())</span><br><span class="line">            .table(<span class="string">&quot;test&quot;</span>)</span><br><span class="line">            .dimension(<span class="number">384</span>)</span><br><span class="line">            .build();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="文档转换向量"><a href="#文档转换向量" class="headerlink" title="文档转换向量"></a>文档转换向量</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 添加文档内容到Embedding Store</span></span><br><span class="line"><span class="type">TextSegment</span> <span class="variable">segment1</span> <span class="operator">=</span> TextSegment.from(Document.txt1);</span><br><span class="line"><span class="type">Embedding</span> <span class="variable">embedding1</span> <span class="operator">=</span> embeddingModel.embed(segment1).content();</span><br><span class="line">embeddingStore.add(embedding1, segment1);</span><br></pre></td></tr></table></figure>

<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">EmbeddingModel</span> <span class="variable">embeddingModel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AllMiniLmL6V2EmbeddingModel</span>();</span><br><span class="line"></span><br><span class="line"><span class="type">Embedding</span> <span class="variable">queryEmbedding</span> <span class="operator">=</span> embeddingModel.embed(message).content();</span><br><span class="line">List&lt;EmbeddingMatch&lt;TextSegment&gt;&gt; relevant = embeddingStore.findRelevant(queryEmbedding, <span class="number">1</span>);</span><br><span class="line">EmbeddingMatch&lt;TextSegment&gt; embeddingMatch = relevant.get(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">return</span> assistant.chat(embeddingMatch.embedded().text() + message);</span><br></pre></td></tr></table></figure>

<h1 id="向量数据库"><a href="#向量数据库" class="headerlink" title="向量数据库"></a>向量数据库</h1><p>LangChain4j支持的向量数据库</p>
<p><a target="_blank" rel="noopener" href="https://docs.langchain4j.dev/integrations/embedding-stores/">https://docs.langchain4j.dev/integrations/embedding-stores/</a></p>
<h2 id="pgvector"><a href="#pgvector" class="headerlink" title="pgvector"></a>pgvector</h2><p>使用pgvector作为向量数据库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">docker run --name pgvector-container -e POSTGRES_PASSWORD=mysecretpassword -d postgres:latest</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入容器</span></span><br><span class="line">docker exec -it pgvector-container bash</span><br><span class="line"></span><br><span class="line">apt-get update</span><br><span class="line">apt-get install -y postgresql-server-dev-all gcc make git</span><br><span class="line">git clone https://github.com/pgvector/pgvector.git</span><br><span class="line">cd pgvector</span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入docker的pg命令行</span></span><br><span class="line">docker exec -it pgvector-container psql -U postgres</span><br><span class="line">CREATE EXTENSION vector;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">用于验证vector的安装</span></span><br><span class="line">SELECT * FROM pg_available_extensions WHERE name = &#x27;vector&#x27;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/08/checklist/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="tomwuu1">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/08/08/checklist/" class="post-title-link" itemprop="url">checklist</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2024-08-08 13:57:07 / Modified: 18:52:44" itemprop="dateCreated datePublished" datetime="2024-08-08T13:57:07+08:00">2024-08-08</time>
            </span>

          
            <span id="/2024/08/08/checklist/" class="post-meta-item leancloud_visitors" data-flag-title="checklist" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2024/08/08/checklist/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2024/08/08/checklist/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>checklist：对于测试用例的梳理和提炼，用于指导测试的编写</p>
<p>冒烟测试：确保主要功能没有重大缺陷</p>
<h1 id="case运行环境"><a href="#case运行环境" class="headerlink" title="case运行环境"></a>case运行环境</h1><ul>
<li>测试环境</li>
<li>仿真环境</li>
<li>灰度环境</li>
<li>线上环境</li>
</ul>
<h1 id="测试用例设计"><a href="#测试用例设计" class="headerlink" title="测试用例设计"></a>测试用例设计</h1><ol>
<li>多个功能，多个测试点</li>
<li>横向覆盖：正常&#x2F;异常，合法&#x2F;不合法，边界内&#x2F;边界&#x2F;边界外</li>
<li>纵向覆盖：前端 -&gt; 逻辑处理 -&gt;存储</li>
<li>最少的case覆盖路径</li>
</ol>
<p>有效值&#x2F;无效值</p>
<p>从用户的角度设计</p>
<ul>
<li>功能点</li>
</ul>
<p>系统设计角度</p>
<ul>
<li>系统结构</li>
<li>对外部系统的影响</li>
<li>多线程并发测试：jmeter</li>
<li>数据相关</li>
<li>日志</li>
<li>监控</li>
<li>第三方依赖</li>
<li>安全</li>
</ul>
<p>codediff角度</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/08/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%96%BD%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="tomwuu1">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/08/08/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%96%BD%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/" class="post-title-link" itemprop="url">项目实施注意事项</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2024-08-08 13:56:17 / Modified: 18:50:37" itemprop="dateCreated datePublished" datetime="2024-08-08T13:56:17+08:00">2024-08-08</time>
            </span>

          
            <span id="/2024/08/08/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%96%BD%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/" class="post-meta-item leancloud_visitors" data-flag-title="项目实施注意事项" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2024/08/08/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%96%BD%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2024/08/08/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%96%BD%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li>落实文档（不要口头沟通）</li>
<li></li>
</ul>
<h1 id="checklist模版"><a href="#checklist模版" class="headerlink" title="checklist模版"></a>checklist模版</h1><p>开关降级</p>
<h1 id="UAT验收"><a href="#UAT验收" class="headerlink" title="UAT验收"></a>UAT验收</h1><p>User Acceptance Testing 用户验收测试</p>
<h1 id="发布前要求"><a href="#发布前要求" class="headerlink" title="发布前要求"></a>发布前要求</h1><ol>
<li>case全通过，bug已修复</li>
<li>监控梳理</li>
<li>梳理上下游系统依赖</li>
<li>确认发布步骤（代码，db，配置等）</li>
<li>确认回滚步骤（代码，db，配置等）</li>
</ol>
<h1 id="发布中"><a href="#发布中" class="headerlink" title="发布中"></a>发布中</h1><ol>
<li>发布期间禁止其他事情干扰</li>
<li>QA按照发布顺序发布（优先灰度观察单机日志，监控）5min-10min</li>
<li>qt，wx群周知发布应用</li>
<li>QA&amp;Dev查看监控-查看30min以上</li>
<li>QA&amp;Dev查看日志-查看30min以上</li>
<li>发现问题回滚（蓝绿发布），或开关降级</li>
<li></li>
</ol>
<h1 id="发布-监控"><a href="#发布-监控" class="headerlink" title="发布-监控"></a>发布-监控</h1><p>预期</p>
<ul>
<li>重点监控</li>
<li>新增监控</li>
<li>影响监控</li>
</ul>
<h1 id="发布后"><a href="#发布后" class="headerlink" title="发布后"></a>发布后</h1><ol>
<li>线上验证</li>
<li>看半小时监控</li>
<li>发现问题回滚或降级，申报故障</li>
<li>Qunit代码合并，报警阈值设置</li>
<li>关闭Pmo，</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/08/%E5%8F%91%E5%B8%83%E6%96%B9%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="tomwuu1">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/08/08/%E5%8F%91%E5%B8%83%E6%96%B9%E5%BC%8F/" class="post-title-link" itemprop="url">发布方式</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2024-08-08 11:37:14 / Modified: 18:44:57" itemprop="dateCreated datePublished" datetime="2024-08-08T11:37:14+08:00">2024-08-08</time>
            </span>

          
            <span id="/2024/08/08/%E5%8F%91%E5%B8%83%E6%96%B9%E5%BC%8F/" class="post-meta-item leancloud_visitors" data-flag-title="发布方式" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2024/08/08/%E5%8F%91%E5%B8%83%E6%96%B9%E5%BC%8F/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2024/08/08/%E5%8F%91%E5%B8%83%E6%96%B9%E5%BC%8F/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="滚动发布"><a href="#滚动发布" class="headerlink" title="滚动发布"></a>滚动发布</h1><ul>
<li>将新版本逐批发布到服务器上</li>
</ul>
<p>优点：资源利用率高</p>
<p>缺点：回滚复杂</p>
<h1 id="灰度发布"><a href="#灰度发布" class="headerlink" title="灰度发布"></a>灰度发布</h1><p>主要是对于流量进行控制</p>
<ol>
<li>选择一部分流量作为测试</li>
<li>通过监控和日志观察运行情况</li>
<li>如果表现良好可以逐步增加流量，直到覆盖全部</li>
</ol>
<p>缺点：数据一致性问题</p>
<h1 id="蓝绿发布"><a href="#蓝绿发布" class="headerlink" title="蓝绿发布"></a>蓝绿发布</h1><p>维持两个环境，把所有的流量切到新的的环境。但是旧环境的数据库连接等是不关闭的。</p>
<p>优点：快速回滚</p>
<p>缺点：需要额外的资源</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/07/%E8%BF%90%E7%BB%B4%E6%80%9D%E8%B7%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="tomwuu1">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/08/07/%E8%BF%90%E7%BB%B4%E6%80%9D%E8%B7%AF/" class="post-title-link" itemprop="url">运维思路</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2024-08-07 14:57:16 / Modified: 14:57:47" itemprop="dateCreated datePublished" datetime="2024-08-07T14:57:16+08:00">2024-08-07</time>
            </span>

          
            <span id="/2024/08/07/%E8%BF%90%E7%BB%B4%E6%80%9D%E8%B7%AF/" class="post-meta-item leancloud_visitors" data-flag-title="运维思路" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2024/08/07/%E8%BF%90%E7%BB%B4%E6%80%9D%E8%B7%AF/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2024/08/07/%E8%BF%90%E7%BB%B4%E6%80%9D%E8%B7%AF/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>运维思路：发现问题 -&gt; 定位问题（确定问题的影响范围以及原因）-&gt; 修复问题</p>
<h1 id="问题分类"><a href="#问题分类" class="headerlink" title="问题分类"></a>问题分类</h1><p>系统问题+业务问题</p>
<p>操作系统问题</p>
<p>cpu使用率（&gt;75%不正常）：流量，IO问题，死循环，频繁GC</p>
<p>，load：核心数&#x3D;最大Load</p>
<p>内存</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/07/%E7%BB%9F%E8%AE%A1%E5%AD%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="tomwuu1">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/08/07/%E7%BB%9F%E8%AE%A1%E5%AD%A6/" class="post-title-link" itemprop="url">统计学</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2024-08-07 12:55:06 / Modified: 13:24:49" itemprop="dateCreated datePublished" datetime="2024-08-07T12:55:06+08:00">2024-08-07</time>
            </span>

          
            <span id="/2024/08/07/%E7%BB%9F%E8%AE%A1%E5%AD%A6/" class="post-meta-item leancloud_visitors" data-flag-title="统计学" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2024/08/07/%E7%BB%9F%E8%AE%A1%E5%AD%A6/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2024/08/07/%E7%BB%9F%E8%AE%A1%E5%AD%A6/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="显著性"><a href="#显著性" class="headerlink" title="显著性"></a>显著性</h1><p>表明两组数据之间的差异是由于系统因素而不是偶然因素。</p>
<h1 id="检验方法"><a href="#检验方法" class="headerlink" title="检验方法"></a>检验方法</h1><ol>
<li>独立样本t检验：比较两个独立样本的均值</li>
<li>配对样本t检验：比较同一组样本在不同条件下的均值</li>
<li>单因素方差检验：比较多个组的均值</li>
<li>重复测量方差检验：比较同一组样本在多个时间点或条件下的均值</li>
<li>卡方独立性检验：检验两个分类变量的独立性</li>
<li></li>
</ol>
<h2 id="独立样本t检验"><a href="#独立样本t检验" class="headerlink" title="独立样本t检验"></a>独立样本t检验</h2><h3 id="使用场景1：比较不同教学方法的考试成绩"><a href="#使用场景1：比较不同教学方法的考试成绩" class="headerlink" title="使用场景1：比较不同教学方法的考试成绩"></a>使用场景1：比较不同教学方法的考试成绩</h3><p><strong>背景</strong>：学校希望评估传统教学法和新教学法对学生考试成绩的影响。</p>
<p><strong>数据</strong>：</p>
<ul>
<li>传统教学法组：78,82,85,90,87,83,88,92,76,8478, 82, 85, 90, 87, 83, 88, 92, 76, 8478,82,85,90,87,83,88,92,76,84</li>
<li>新教学法组：85,89,91,94,90,93,88,95,87,9085, 89, 91, 94, 90, 93, 88, 95, 87, 9085,89,91,94,90,93,88,95,87,90</li>
</ul>
<p><strong>分析过程</strong>：</p>
<ol>
<li><strong>假设</strong>：<ul>
<li>零假设（H0）：传统教学法和新教学法的考试成绩均值无显著差异。</li>
<li>备择假设（H1）：传统教学法和新教学法的考试成绩均值有显著差异。</li>
</ul>
</li>
<li><strong>计算均值和标准差</strong>：<ul>
<li>传统教学法组的均值和标准差。</li>
<li>新教学法组的均值和标准差。</li>
</ul>
</li>
<li><strong>执行独立样本t检验</strong>：<ul>
<li>计算t值和p值。</li>
</ul>
</li>
<li><strong>结论</strong>：<ul>
<li>根据p值判断是否拒绝零假设。</li>
</ul>
</li>
</ol>
<p>$$<br>t &#x3D; \frac{\bar{X}_1 - \bar{X}_2}{\sqrt{\frac{s_1^2}{n_1} + \frac{s_2^2}{n_2}}}<br>$$</p>
<p>$$<br>df &#x3D; n_1 + n_2 - 2<br>$$</p>
<p>p值是根据t和自由度从t分布表中查得的</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/06/%E5%88%86%E5%B8%83%E5%BC%8F%E5%85%A8%E5%B1%80%E9%93%BE%E8%B7%AF%E8%B7%9F%E8%B8%AA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="tomwuu1">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/08/06/%E5%88%86%E5%B8%83%E5%BC%8F%E5%85%A8%E5%B1%80%E9%93%BE%E8%B7%AF%E8%B7%9F%E8%B8%AA/" class="post-title-link" itemprop="url">分布式全局链路跟踪</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2024-08-06 18:21:46 / Modified: 21:36:02" itemprop="dateCreated datePublished" datetime="2024-08-06T18:21:46+08:00">2024-08-06</time>
            </span>

          
            <span id="/2024/08/06/%E5%88%86%E5%B8%83%E5%BC%8F%E5%85%A8%E5%B1%80%E9%93%BE%E8%B7%AF%E8%B7%9F%E8%B8%AA/" class="post-meta-item leancloud_visitors" data-flag-title="分布式全局链路跟踪" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2024/08/06/%E5%88%86%E5%B8%83%E5%BC%8F%E5%85%A8%E5%B1%80%E9%93%BE%E8%B7%AF%E8%B7%9F%E8%B8%AA/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2024/08/06/%E5%88%86%E5%B8%83%E5%BC%8F%E5%85%A8%E5%B1%80%E9%93%BE%E8%B7%AF%E8%B7%9F%E8%B8%AA/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>分布式系统对于一次处理，调用了大量的服务，要理解一次处理的链路，需要对于系统很了解。不便于定位问题。</p>
<p>还原业务逻辑的全景图</p>
<h1 id="传统方案"><a href="#传统方案" class="headerlink" title="传统方案"></a>传统方案</h1><h1 id="现在的方案"><a href="#现在的方案" class="headerlink" title="现在的方案"></a>现在的方案</h1><p>新方案可以采用分布式会话跟踪提供的分布式参数透传能力实现业务日志的动态串联：</p>
<p>分布式参数透传很像ThreadLocal</p>
<h1 id="链路染色"><a href="#链路染色" class="headerlink" title="链路染色"></a>链路染色</h1><p>当逻辑链路开启时，确定唯一标识</p>
<p>链路标识：业务标识 + 场景标识 + 执行标识</p>
<p>执行标识？？？</p>
<h1 id="链路存储"><a href="#链路存储" class="headerlink" title="链路存储"></a>链路存储</h1><p>将链路执行中上报的日志存储。分为链路日志，节点日志，业务日志</p>
<ul>
<li>链路日志：链路单次执行中，从开始节点和结束节点的日志中提取的链路基本信息，包含链路类型、链路元信息、链路开始&#x2F;结束时间等。</li>
<li>节点日志：链路单次执行中，已执行节点的基本信息，包含节点名称、节点状态、节点开始&#x2F;结束时间等。</li>
<li>业务日志：链路单次执行中，已执行节点中的业务日志信息，包含日志级别、日志时间、日志数据等。</li>
</ul>
<h1 id="Qtrace"><a href="#Qtrace" class="headerlink" title="Qtrace"></a>Qtrace</h1><h2 id="传递链路信息"><a href="#传递链路信息" class="headerlink" title="传递链路信息"></a>传递链路信息</h2><ul>
<li><p>如果是同一个应用同一个线程，就将span放进Threadlocal里面，span包含traceId</p>
</li>
<li><p>如果需要通过网络，从ThreadLocal中取出span，通过中间件传输</p>
</li>
</ul>
<h1 id="Dapper"><a href="#Dapper" class="headerlink" title="Dapper"></a>Dapper</h1><p>三个目标</p>
<ol>
<li>低消耗</li>
<li>应用级的透明：不需要应用的开发者配合</li>
<li>延展性</li>
</ol>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>感觉就是通过在中间件埋点，传递traceId，往kafka发送消息，由消费者存在HBase里面。qtrace和mtrace都是这么做的。</p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a target="_blank" rel="noopener" href="https://tech.meituan.com/2022/07/21/visualized-log-tracing.html">https://tech.meituan.com/2022/07/21/visualized-log-tracing.html</a></p>
<p><a target="_blank" rel="noopener" href="https://wiki.corp.qunar.com/display/ggcpb/QTrace">https://wiki.corp.qunar.com/display/ggcpb/QTrace</a></p>
<p><a target="_blank" rel="noopener" href="https://tech.meituan.com/2016/10/14/mt-mtrace.html">https://tech.meituan.com/2016/10/14/mt-mtrace.html</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">tomwuu1</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">60</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">tomwuu1</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'I0ngQnHGfQnIRkzoLuPl1Dhe-gzGzoHsz',
      appKey     : 'gnxMRSCN4tbXEB9VxhLliJNF',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
